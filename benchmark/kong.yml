# ============================================================
# Kong 3.x declarative config (DB-less mode) for benchmark
# ============================================================
_format_version: "3.0"

services:
  - name: echo-service
    url: http://echo:3000
    routes:
      - name: bench-plain
        paths:
          - /bench/plain
        methods:
          - GET
        strip_path: false
      - name: bench-auth
        paths:
          - /bench/auth
        methods:
          - GET
        strip_path: false
        plugins:
          - name: key-auth
            config:
              key_names:
                - apikey

consumers:
  - username: bench-user
    keyauth_credentials:
      - key: bench-secret-key
